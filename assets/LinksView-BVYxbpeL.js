import{_ as y,o as a,c as u,i as F,a as e,y as j,p as P,g as B,t as I,b as s,d as h,z as S,j as g,w as c,q as E,A as M,r as N,m as x,f as _,e as w,B as V,u as D,F as $}from"./index-DH5bKGWT.js";import{_ as O}from"./user-avatar-D6ytBkUb.js";import{D as z}from"./DashboardLayout-DdPFowr1.js";import{V as p}from"./Button-CFxZbaHy.js";import{u as T,V as G}from"./LinkPreview-CH7fFuFY.js";import{V as C}from"./TextField-BZ27O_bg.js";const H=t=>(P("data-v-e2de7032"),t=t(),B(),t),J=["for"],K=["checked","id"],Q=H(()=>e("span",{class:"switch__track"},[e("span",{class:"switch__indicator"})],-1)),R=Object.assign({inheritAttrs:!1},{__name:"Switch",props:{checked:{type:Boolean,required:!0},id:{type:String}},setup(t){return(o,l)=>(a(),u("label",{class:"switch",for:t.id},[F(o.$slots,"default",{},void 0,!0),e("input",j({class:"switch__input",type:"checkbox"},o.$attrs,{checked:t.checked,id:t.id}),null,16,K),Q],8,J))}}),U=y(R,[["__scopeId","data-v-e2de7032"]]),W={class:"link-card"},X={class:"link-card__text-box"},Y={class:"link-card__title"},Z={class:"link-card__link"},ee={class:"link-card__actions"},te={__name:"LinkCard",props:{postData:{type:Object,required:!0}},setup(t){const o=T(),l=I(),i=t,f=async()=>{const n=await o.hideLink(!i.postData.hidden,i.postData.id);n&&l.activateToast("error",n)},k=async()=>{await o.deleteLink(i.postData.id)};return(n,m)=>(a(),u("div",W,[s(h,{class:"link-card__drag-dots",name:"icon-draggable-dots"}),e("div",X,[e("p",Y,S(t.postData.title),1),e("span",Z,S(t.postData.url),1)]),e("div",ee,[s(U,{checked:!t.postData.hidden,onClick:g(f,["prevent"])},null,8,["checked"]),s(p,{class:"link-card__delete",onClick:k},{default:c(()=>[s(h,{name:"icon-trash"})]),_:1})])]))}},se=y(te,[["__scopeId","data-v-b1c76ccd"]]),r=t=>(P("data-v-dcfdb7e8"),t=t(),B(),t),ae={class:"grid"},oe={class:"links-section"},ie={class:"add-link-section"},ne=r(()=>e("p",{class:"form__heading"}," Add link",-1)),ce=r(()=>e("label",{class:"form__label",for:"form-title"},"Title",-1)),re={class:"form__error-message"},le=r(()=>e("label",{class:"form__label",for:"form-link"},"Link",-1)),de={class:"form__error-message"},_e={class:"form__btn-container"},me={class:"links-section__cards-container"},pe={class:"preview-section"},ue=r(()=>e("p",{class:"preview-section__heading"},"Page Preview",-1)),he={class:"mobile-preview"},fe=r(()=>e("img",{class:"mobile-preview__avatar",src:O},null,-1)),ke=r(()=>e("p",{class:"mobile-preview__username"},"@username",-1)),be={class:"mobile-preview__links-container"},ve={__name:"LinksView",async setup(t){let o,l;const i=T(),f=I(),k=E({title:"required|min:3|max:100",url:"required|url"});[o,l]=M(()=>i.getLinkPosts()),await o,l();const n=N(!1),m=()=>{n.value=!n.value},A=async b=>{const v=await i.addLink(b.title,b.url);v&&f.activateToast("error",v.message),m()};return(b,v)=>{const L=x("ErrorMessage"),q=x("VForm");return a(),_(z,null,{default:c(()=>[e("div",ae,[e("section",oe,[e("section",ie,[n.value?(a(),_(q,{key:1,class:"form","validation-schema":k,onSubmit:A},{default:c(()=>[ne,ce,s(C,{class:"text-field--full text-field--small",name:"title",type:"text",placeholder:"Link Title",id:"form-title"}),e("p",re,[s(L,{name:"title"})]),le,s(C,{class:"text-field--full text-field--small",name:"url",type:"url",placeholder:"https://example.com",id:"form-link"}),e("p",de,[s(L,{name:"url"})]),e("div",_e,[s(p,{class:"btn btn--primary btn--full"},{default:c(()=>[w("Publish")]),_:1}),s(p,{class:"form__cancel-btn btn btn--secondary btn--full",onClick:g(m,["prevent"])},{default:c(()=>[w("Cancel")]),_:1})])]),_:1},8,["validation-schema"])):(a(),_(p,{key:0,class:"btn btn--primary btn--full btn--big",onClick:g(m,["prevent"])},{default:c(()=>[s(h,{name:"icon-plus"}),w("   Add link ")]),_:1}))]),e("div",me,[(a(!0),u($,null,V(D(i).posts,d=>(a(),_(se,{key:d.id,postData:d},null,8,["postData"]))),128))])]),e("section",pe,[ue,e("div",he,[fe,ke,e("div",be,[(a(!0),u($,null,V(D(i).posts,d=>(a(),_(G,{key:d.id,postData:d},null,8,["postData"]))),128))]),s(h,{class:"mobile-preview__logo",name:"logo"})])])])]),_:1})}}},Ve=y(ve,[["__scopeId","data-v-dcfdb7e8"]]);export{Ve as default};
